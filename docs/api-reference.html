<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - simple_cli</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="images/logo.png">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="images/logo.png" alt="simple_* logo" class="logo">
        </div>
        <h1>simple_cli</h1>
        <p class="tagline">API Reference</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Overview</a></li>
            <li><a href="user-guide.html">User Guide</a></li>
            <li><a href="api-reference.html" class="active">API Reference</a></li>
            <li><a href="architecture.html">Architecture</a></li>
            <li><a href="cookbook.html">Cookbook</a></li>
            <li><a href="https://github.com/simple-eiffel/simple_cli">GitHub</a></li>
        </ul>
    </nav>

    <main>
        <section id="simple-cli">
            <h2>SIMPLE_CLI</h2>
            <p>Command-line argument parser with fluent API.</p>
            <p>Inherits from: <code>ARGUMENTS_32</code></p>

            <h3>Creation</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>make</code></td>
                    <td><code></code></td>
                    <td>Initialize CLI parser with default settings.</td>
                </tr>
            </table>

            <h3>Configuration</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>set_app_info</code></td>
                    <td><code>(a_name, a_description, a_version: STRING)</code></td>
                    <td>Set application info for help output.</td>
                </tr>
                <tr>
                    <td><code>add_flag</code></td>
                    <td><code>(a_names, a_description: STRING)</code></td>
                    <td>Add boolean flag. Names can be "v|verbose".</td>
                </tr>
                <tr>
                    <td><code>add_option</code></td>
                    <td><code>(a_names, a_description, a_arg_name: STRING)</code></td>
                    <td>Add option with value placeholder.</td>
                </tr>
                <tr>
                    <td><code>add_option_with_default</code></td>
                    <td><code>(a_names, a_description, a_arg_name, a_default: STRING)</code></td>
                    <td>Add option with default value.</td>
                </tr>
                <tr>
                    <td><code>add_required_option</code></td>
                    <td><code>(a_names, a_description, a_arg_name: STRING)</code></td>
                    <td>Add required option (error if missing).</td>
                </tr>
                <tr>
                    <td><code>disable_help_flag</code></td>
                    <td><code></code></td>
                    <td>Disable built-in -h/--help handling.</td>
                </tr>
                <tr>
                    <td><code>disable_version_flag</code></td>
                    <td><code></code></td>
                    <td>Disable built-in -V/--version handling.</td>
                </tr>
            </table>

            <h4>Contract: set_app_info</h4>
<pre><code>set_app_info (a_name, a_description, a_version: STRING)
    <span class="keyword">require</span>
        name_not_empty: <span class="keyword">not</span> a_name.is_empty
    <span class="keyword">ensure</span>
        name_set: app_name = a_name
        description_set: app_description = a_description
        version_set: app_version = a_version</code></pre>

            <h4>Contract: add_flag</h4>
<pre><code>add_flag (a_names, a_description: STRING)
    <span class="keyword">require</span>
        names_not_empty: <span class="keyword">not</span> a_names.is_empty</code></pre>

            <h3>Parsing</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>parse</code></td>
                    <td><code></code></td>
                    <td>Parse command-line arguments.</td>
                </tr>
            </table>

            <h4>Contract: parse</h4>
<pre><code>parse
    <span class="keyword">ensure</span>
        parsed: has_parsed</code></pre>

            <h3>Access: Flags</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>has_flag</code></td>
                    <td><code>(a_name: STRING): BOOLEAN</code></td>
                    <td>Is the flag set?</td>
                </tr>
            </table>

            <h4>Contract: has_flag</h4>
<pre><code>has_flag (a_name: STRING): BOOLEAN
    <span class="keyword">require</span>
        parsed: has_parsed</code></pre>

            <h3>Access: String Options</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>option_value</code></td>
                    <td><code>(a_name: STRING): detachable STRING</code></td>
                    <td>Get option value (or default if set).</td>
                </tr>
                <tr>
                    <td><code>option_value_or_default</code></td>
                    <td><code>(a_name, a_default: STRING): STRING</code></td>
                    <td>Get value or provided default.</td>
                </tr>
                <tr>
                    <td><code>has_option</code></td>
                    <td><code>(a_name: STRING): BOOLEAN</code></td>
                    <td>Is option set (or has default)?</td>
                </tr>
            </table>

            <h4>Contract: option_value</h4>
<pre><code>option_value (a_name: STRING): <span class="keyword">detachable</span> STRING
    <span class="keyword">require</span>
        parsed: has_parsed</code></pre>

            <h3>Access: Integer Options</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>integer_option</code></td>
                    <td><code>(a_name: STRING): INTEGER</code></td>
                    <td>Get integer value (0 if not found/not integer).</td>
                </tr>
                <tr>
                    <td><code>integer_option_or_default</code></td>
                    <td><code>(a_name: STRING; a_default: INTEGER): INTEGER</code></td>
                    <td>Get integer value or default.</td>
                </tr>
            </table>

            <h3>Access: Boolean Options</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>boolean_option</code></td>
                    <td><code>(a_name: STRING): BOOLEAN</code></td>
                    <td>Get boolean value. Recognizes: "true", "false", "yes", "no", "1", "0".</td>
                </tr>
            </table>

            <h3>Access: Arguments</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>command</code></td>
                    <td><code>: detachable STRING</code></td>
                    <td>First positional argument.</td>
                </tr>
                <tr>
                    <td><code>arguments</code></td>
                    <td><code>: LIST [STRING]</code></td>
                    <td>All positional arguments.</td>
                </tr>
                <tr>
                    <td><code>arguments_after_command</code></td>
                    <td><code>: LIST [STRING]</code></td>
                    <td>Arguments after the first one.</td>
                </tr>
            </table>

            <h3>Status</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>has_parsed</code></td>
                    <td><code>: BOOLEAN</code></td>
                    <td>Has parse been called?</td>
                </tr>
                <tr>
                    <td><code>is_successful</code></td>
                    <td><code>: BOOLEAN</code></td>
                    <td>Did parsing succeed without errors?</td>
                </tr>
                <tr>
                    <td><code>help_requested</code></td>
                    <td><code>: BOOLEAN</code></td>
                    <td>Was -h or --help specified?</td>
                </tr>
                <tr>
                    <td><code>version_requested</code></td>
                    <td><code>: BOOLEAN</code></td>
                    <td>Was -V or --version specified?</td>
                </tr>
                <tr>
                    <td><code>errors</code></td>
                    <td><code>: LIST [STRING]</code></td>
                    <td>List of parsing errors.</td>
                </tr>
                <tr>
                    <td><code>has_errors</code></td>
                    <td><code>: BOOLEAN</code></td>
                    <td>Are there any errors?</td>
                </tr>
            </table>

            <h3>Help Output</h3>
            <table class="api-table">
                <tr>
                    <th>Feature</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>help_text</code></td>
                    <td><code>: STRING</code></td>
                    <td>Generate help text string.</td>
                </tr>
                <tr>
                    <td><code>version_text</code></td>
                    <td><code>: STRING</code></td>
                    <td>Generate version text string.</td>
                </tr>
                <tr>
                    <td><code>print_help</code></td>
                    <td><code></code></td>
                    <td>Print help text to stdout.</td>
                </tr>
                <tr>
                    <td><code>print_version</code></td>
                    <td><code></code></td>
                    <td>Print version text to stdout.</td>
                </tr>
                <tr>
                    <td><code>print_errors</code></td>
                    <td><code></code></td>
                    <td>Print errors to stdout.</td>
                </tr>
            </table>
        </section>

        <section id="name-formats">
            <h2>Name Format Reference</h2>

            <h3>Flag and Option Names</h3>
            <table class="api-table">
                <tr>
                    <th>Format</th>
                    <th>Example</th>
                    <th>Usage</th>
                </tr>
                <tr>
                    <td>Short and long</td>
                    <td><code>"v|verbose"</code></td>
                    <td>-v or --verbose</td>
                </tr>
                <tr>
                    <td>Long only</td>
                    <td><code>"debug"</code></td>
                    <td>--debug</td>
                </tr>
                <tr>
                    <td>Multi-word</td>
                    <td><code>"d|dry-run"</code></td>
                    <td>-d or --dry-run</td>
                </tr>
            </table>

            <h3>Command-Line Formats</h3>
            <table class="api-table">
                <tr>
                    <th>Type</th>
                    <th>Formats</th>
                </tr>
                <tr>
                    <td>Long flag</td>
                    <td><code>--verbose</code></td>
                </tr>
                <tr>
                    <td>Short flag</td>
                    <td><code>-v</code></td>
                </tr>
                <tr>
                    <td>Combined short flags</td>
                    <td><code>-vdf</code> (same as -v -d -f)</td>
                </tr>
                <tr>
                    <td>Long option with =</td>
                    <td><code>--output=file.txt</code></td>
                </tr>
                <tr>
                    <td>Long option with space</td>
                    <td><code>--output file.txt</code></td>
                </tr>
                <tr>
                    <td>Short option with space</td>
                    <td><code>-o file.txt</code></td>
                </tr>
                <tr>
                    <td>Short option attached</td>
                    <td><code>-ofile.txt</code></td>
                </tr>
            </table>
        </section>

        <section id="error-messages">
            <h2>Error Messages</h2>

            <table class="api-table">
                <tr>
                    <th>Error</th>
                    <th>Cause</th>
                </tr>
                <tr>
                    <td><code>Unknown option: --foo</code></td>
                    <td>Option not defined with add_option/add_flag</td>
                </tr>
                <tr>
                    <td><code>Unknown option: -x</code></td>
                    <td>Short option not defined</td>
                </tr>
                <tr>
                    <td><code>Option --output requires a value</code></td>
                    <td>Option used without value</td>
                </tr>
                <tr>
                    <td><code>Required option missing: --input</code></td>
                    <td>add_required_option option not provided</td>
                </tr>
            </table>
        </section>

        <section id="boolean-values">
            <h2>Boolean Value Recognition</h2>

            <p>The <code>boolean_option</code> feature recognizes:</p>

            <table class="api-table">
                <tr>
                    <th>True Values</th>
                    <th>False Values</th>
                </tr>
                <tr>
                    <td><code>"true"</code></td>
                    <td><code>"false"</code></td>
                </tr>
                <tr>
                    <td><code>"yes"</code></td>
                    <td><code>"no"</code></td>
                </tr>
                <tr>
                    <td><code>"1"</code></td>
                    <td><code>"0"</code></td>
                </tr>
            </table>

            <p>Case-insensitive matching is used.</p>
        </section>
    </main>

    <footer>
        <p>Part of the <a href="https://github.com/simple-eiffel">simple_*</a> ecosystem of focused, single-purpose Eiffel libraries.</p>
        <p>&copy; 2025 Larry Rix. MIT License.</p>
    </footer>
</body>
</html>
